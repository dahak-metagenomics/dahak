



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://dahak-metagenomics.github.io/dahak/config/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.7.2">
    
    
      
        <title>Workflow Configuration - Dahak Metagenomics</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../css/custom.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="brown" data-md-color-accent="brown">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#snakemake-configuration" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://dahak-metagenomics.github.io/dahak" title="Dahak Metagenomics" class="md-header-nav__button md-logo">
          
            <i class="md-icon">line_style</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Dahak Metagenomics
              </span>
              <span class="md-header-nav__topic">
                Workflow Configuration
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/dahak-metagenomics/dahak" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      dahak-metagenomics/dahak
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">line_style</i>
      
    </span>
    Dahak Metagenomics
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/dahak-metagenomics/dahak" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      dahak-metagenomics/dahak
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Index" class="md-nav__link">
      Index
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installing/" title="Installing" class="md-nav__link">
      Installing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../running_workflows/" title="Running Workflows" class="md-nav__link">
      Running Workflows
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Workflow Configuration
      </label>
    
    <a href="./" title="Workflow Configuration" class="md-nav__link md-nav__link--active">
      Workflow Configuration
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-files-workflow-config-and-parameters" title="Data Files, Workflow Config, and Parameters" class="md-nav__link">
    Data Files, Workflow Config, and Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-specify-my-data-files" title="How do I specify my data files?" class="md-nav__link">
    How do I specify my data files?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-specify-my-workflow-configuration" title="How do I specify my workflow configuration?" class="md-nav__link">
    How do I specify my workflow configuration?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-specify-my-workflow-parameters" title="How do I specify my workflow parameters?" class="md-nav__link">
    How do I specify my workflow parameters?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings-defaults-vs-json-overriding-defaults" title=".settings (Defaults) vs .json (Overriding Defaults)" class="md-nav__link">
    .settings (Defaults) vs .json (Overriding Defaults)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Read Filtering
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Read Filtering
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../readfilt_overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../readfilt_walkthru/" title="Walkthrough" class="md-nav__link">
      Walkthrough
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../readfilt_snakemake/" title="Snakemake" class="md-nav__link">
      Snakemake
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Assembly
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Assembly
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../assembly_overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assembly_walkthru/" title="Walkthrough" class="md-nav__link">
      Walkthrough
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assembly_snakemake/" title="Snakemake" class="md-nav__link">
      Snakemake
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Comparison
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Comparison
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../comparison_overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../comparison_walkthru/" title="Walkthrough" class="md-nav__link">
      Walkthrough
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../comparison_snakemake/" title="Snakemake" class="md-nav__link">
      Snakemake
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Taxonomic Classification
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Taxonomic Classification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../taxclass_overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../taxclass_walkthru/" title="Walkthrough" class="md-nav__link">
      Walkthrough
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../taxclass_snakemake/" title="Snakemake" class="md-nav__link">
      Snakemake
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contrib/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-files-workflow-config-and-parameters" title="Data Files, Workflow Config, and Parameters" class="md-nav__link">
    Data Files, Workflow Config, and Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-specify-my-data-files" title="How do I specify my data files?" class="md-nav__link">
    How do I specify my data files?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-specify-my-workflow-configuration" title="How do I specify my workflow configuration?" class="md-nav__link">
    How do I specify my workflow configuration?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-specify-my-workflow-parameters" title="How do I specify my workflow parameters?" class="md-nav__link">
    How do I specify my workflow parameters?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings-defaults-vs-json-overriding-defaults" title=".settings (Defaults) vs .json (Overriding Defaults)" class="md-nav__link">
    .settings (Defaults) vs .json (Overriding Defaults)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="snakemake-configuration">Snakemake Configuration<a class="headerlink" href="#snakemake-configuration" title="Permanent link">&para;</a></h1>
<p>The <code>workflows/config/</code> directory contains files used to set 
key-value pairs in the configuration dictionary used by Snakemake.</p>
<p>To use a custom configuration file (JSON or YAML format), use the
<code>--configfile</code> flag:</p>
<div class="codehilite"><pre><span></span>snakemake --configfile my_workflow_params.json ...
</pre></div>


<h2 id="data-files-workflow-config-and-parameters">Data Files, Workflow Config, and Parameters<a class="headerlink" href="#data-files-workflow-config-and-parameters" title="Permanent link">&para;</a></h2>
<p>The <code>dahak/workflows/config/</code> directory contains configuration files for
Dahak workflows. There are three types of configuration details that the user
may wish to customize:</p>
<ul>
<li>
<p><strong>Data files</strong> (a list of names and URLs for read files; these read files do not
  all necessarily need to be used in the workflow)</p>
<ul>
<li>See <a href="https://github.com/dahak-metagenomics/dahak/blob/master/workflows/config/example_datafiles.json"><code>dahak/workflows/config/example_datafiles.json</code></a>
  for an example</li>
</ul>
</li>
<li>
<p><strong>Workflow configuration</strong> (specifying which read files to run each workflow on)</p>
<ul>
<li>See <a href="https://github.com/dahak-metagenomics/dahak/blob/master/workflows/config/example_workflowconfig.json"><code>dahak/workflows/config/example_workflowconfig.json</code></a>
  for an example</li>
</ul>
</li>
<li>
<p><strong>Workflow parameters</strong> (parameters specifying how the workflow will run)</p>
<ul>
<li>See <a href="https://github.com/dahak-metagenomics/dahak/blob/master/workflows/config/example_workflowparams.json"><code>dahak/workflows/config/example_workflowparams.json</code></a>
  for an example</li>
</ul>
</li>
</ul>
<h2 id="how-do-i-specify-my-data-files">How do I specify my data files?<a class="headerlink" href="#how-do-i-specify-my-data-files" title="Permanent link">&para;</a></h2>
<p>To set the names and URLs of read files, set the <code>files</code> key in the Snakemake
configuration dictionary to a list of key-value pairs, where the key is the 
name of the read file and the value is the URL of the file (do not include 
<code>http://</code> or <code>https://</code> in the URL).</p>
<p>For example, the following JSON block will provide a list of reads and their
corresponding URLs:</p>
<div class="codehilite"><pre><span></span>{
    &quot;files&quot; : {
        &quot;SRR606249_1_reads.fq.gz&quot; :           &quot;files.osf.io/v1/resources/dm938/providers/osfstorage/59f0f9156c613b026430dbc7&quot;,
        &quot;SRR606249_2_reads.fq.gz&quot; :           &quot;files.osf.io/v1/resources/dm938/providers/osfstorage/59f0fc7fb83f69026076be47&quot;,
        &quot;SRR606249_subset10_1_reads.fq.gz&quot; :  &quot;files.osf.io/v1/resources/dm938/providers/osfstorage/59f10134b83f69026377611b&quot;,
        &quot;SRR606249_subset10_2_reads.fq.gz&quot; :  &quot;files.osf.io/v1/resources/dm938/providers/osfstorage/59f101f26c613b026330e53a&quot;,
        &quot;SRR606249_subset25_1_reads.fq.gz&quot; :  &quot;files.osf.io/v1/resources/dm938/providers/osfstorage/59f1039a594d900263120c38&quot;,
        &quot;SRR606249_subset25_2_reads.fq.gz&quot; :  &quot;files.osf.io/v1/resources/dm938/providers/osfstorage/59f104ed594d90026411f486&quot;,
        &quot;SRR606249_subset50_1_reads.fq.gz&quot; :  &quot;files.osf.io/v1/resources/dm938/providers/osfstorage/59f1082d6c613b026430e5cf&quot;,
        &quot;SRR606249_subset50_2_reads.fq.gz&quot; :  &quot;files.osf.io/v1/resources/dm938/providers/osfstorage/59f10ac6594d900262123e77&quot;,
    }
}
</pre></div>


<p>This can be placed in a JSON file like <code>dahak/workflows/config/custom_datafiles.json</code> 
and passed to Snakemake using the <code>--config</code> flag like:</p>
<div class="codehilite"><pre><span></span>snakemake --config<span class="o">=</span>config/custom_datafiles.json <span class="se">\</span>
        <span class="o">[</span>FLAGS<span class="o">]</span> &lt;target&gt;
</pre></div>


<p><strong>NOTE:</strong> Dahak assumes that read files are not present on the local machine and
uses a rule to download the reads from the given URL if they are not present.
If your read files <em>are</em> present locally, they must be put into the temporary
directory (set by <code>data_dir</code> key in the Snakemake configuration dictionary, 
<code>data/</code> by default) so that Snakemake will find them. If Snakemake finds the 
read files, the download command will not be run. You can use an empty string
for the URLs in this case.</p>
<h2 id="how-do-i-specify-my-workflow-configuration">How do I specify my workflow configuration?<a class="headerlink" href="#how-do-i-specify-my-workflow-configuration" title="Permanent link">&para;</a></h2>
<p>The workflow configuration file specifies details about
<em>which</em> workflow should be run. This is typically just
the name of the samples to run the workflow on, and a 
quality value or a k value.</p>
<p>Set the <code>workflows</code> key of the Snakemake configuration dictionary to a
dictionary containing details about the workflow you want to run.  The workflow
configuration values are values that will end up in the final output file's
filename.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;workflows&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;name_of_workflow&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;workflow_option&quot;</span> <span class="p">:</span> <span class="s2">&quot;workflow_option_value&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>For example, here is what the workflow configuration looks like
for the assembly workflow:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;workflows&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;assembly_workflow_metaspades&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;sample&quot;</span>    <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;SRR606249_subset10&quot;</span><span class="p">,</span><span class="s2">&quot;SRR606249_subset25&quot;</span><span class="p">],</span>
            <span class="nt">&quot;qual&quot;</span>      <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="s2">&quot;30&quot;</span><span class="p">],</span>
        <span class="p">},</span>

        <span class="nt">&quot;assembly_workflow_megahit&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;sample&quot;</span>    <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;SRR606249_subset10&quot;</span><span class="p">,</span><span class="s2">&quot;SRR606249_subset25&quot;</span><span class="p">],</span>
            <span class="nt">&quot;qual&quot;</span>      <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="s2">&quot;30&quot;</span><span class="p">],</span>
        <span class="p">},</span>

        <span class="nt">&quot;assembly_workflow_all&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;sample&quot;</span>    <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;SRR606249_subset10&quot;</span><span class="p">,</span><span class="s2">&quot;SRR606249_subset25&quot;</span><span class="p">],</span>
            <span class="nt">&quot;qual&quot;</span>      <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="s2">&quot;30&quot;</span><span class="p">],</span>
        <span class="p">},</span>

    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Each workflow component has a "Snakemake" page that covers
workflow configuration options and details for the respective workflow.  Use the
navigation menu on the left and select the workflow component of interest, then
pick the "Snakemake" page.</p>
<h2 id="how-do-i-specify-my-workflow-parameters">How do I specify my workflow parameters?<a class="headerlink" href="#how-do-i-specify-my-workflow-parameters" title="Permanent link">&para;</a></h2>
<p>Workflow parameters specify parameters that are used when executing
individual workflow steps. These parameters are not incorporated in
the final filename and are usually more extensive.</p>
<p>These are set using a key that is the name of the workflow component.
For example, the assembly workflow parameters section of the workflow
parameters file looks like this:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;assembly&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;assembly_patterns&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;metaspades_pattern&quot;</span> <span class="p">:</span> <span class="s2">&quot;{sample}.trim{qual}_metaspades.contigs.fa&quot;</span><span class="p">,</span>
            <span class="nt">&quot;megahit_pattern&quot;</span> <span class="p">:</span> <span class="s2">&quot;{sample}.trim{qual}_megahit.contigs.fa&quot;</span><span class="p">,</span>
            <span class="nt">&quot;assembly_pattern&quot;</span> <span class="p">:</span> <span class="s2">&quot;{sample}.trim{qual}_{assembler}.contigs.fa&quot;</span><span class="p">,</span>
            <span class="nt">&quot;quast_pattern&quot;</span> <span class="p">:</span> <span class="s2">&quot;{sample}.trim{qual}_{assembler}_quast/report.html&quot;</span><span class="p">,</span>
            <span class="nt">&quot;multiqc_pattern&quot;</span> <span class="p">:</span> <span class="s2">&quot;{sample}.trim{qual}_{assembler}_multiqc/report.html&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Each workflow component has a "Snakemake" page that covers workflow parameters
and details for the respective workflow.  Use the navigation menu on the left
and select the workflow component of interest, then pick the "Snakemake" page.</p>
<h2 id="settings-defaults-vs-json-overriding-defaults">.settings (Defaults) vs .json (Overriding Defaults)<a class="headerlink" href="#settings-defaults-vs-json-overriding-defaults" title="Permanent link">&para;</a></h2>
<p>The <code>*.settings</code> files are Python scripts that set the default
Snakemake configuration dictionary. Each <code>*.settings</code> file is
prefixed by <code>default_</code> because it is setting default values.</p>
<p>If the user does not specify a particular configuration dictionary
key-value pair, then the default key-value pair will be used.
However, if the user sets a key-value pair, it will override
the default value.</p>
<p>This allows the user to customize any configuration key-value pair
used by a workflow without having to explicitly specify every 
configuration key-value pair.</p>
<p>For example, by default the version of each container image for each
program obtained from the biocontainers project is specified in the
top-level <code>biocontainers</code> key in <code>default_parameters.settings</code>:</p>
<div class="codehilite"><pre><span></span><span class="n">config_default</span> <span class="o">=</span> <span class="p">{</span>

    <span class="o">...</span>

    <span class="s2">&quot;biocontainers&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;sourmash&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;use_local&quot;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
            <span class="s2">&quot;quayurl&quot;</span> <span class="p">:</span> <span class="s2">&quot;quay.io/biocontainers/sourmash&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span> <span class="p">:</span> <span class="s2">&quot;2.0.0a3--py36_0&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;trimmomatic&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;use_local&quot;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
            <span class="s2">&quot;quayurl&quot;</span> <span class="p">:</span> <span class="s2">&quot;quay.io/biocontainers/trimmomatic&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span> <span class="p">:</span> <span class="s2">&quot;0.36--5&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;khmer&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;use_local&quot;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
            <span class="s2">&quot;quayurl&quot;</span> <span class="p">:</span> <span class="s2">&quot;quay.io/biocontainers/khmer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span> <span class="p">:</span> <span class="s2">&quot;2.1.2--py35_0&quot;</span>
        <span class="p">},</span>

        <span class="o">...</span>
</pre></div>


<p>(Note the <code>*.settings</code> files and the above code are Python, not JSON.)</p>
<p>If the user wishes to bump the version of trimmomatic to (e.g.) 0.38,
but not change the version of khmer or sourmash, the user can specify
a JSON file with the following configuration block:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;biocontainers&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;trimmomatic&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;use_local&quot;</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;quayurl&quot;</span> <span class="p">:</span> <span class="s2">&quot;quay.io/biocontainers/trimmomatic&quot;</span><span class="p">,</span>
            <span class="nt">&quot;version&quot;</span> <span class="p">:</span> <span class="s2">&quot;0.38--5&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>This can be placed in a JSON file like <code>dahak/workflows/config/custom_workflowparams.json</code> 
and passed to Snakemake using the <code>--config</code> flag like:</p>
<div class="codehilite"><pre><span></span>snakemake --config<span class="o">=</span>config/custom_workflowparams.json <span class="se">\</span>
        <span class="o">[</span>FLAGS<span class="o">]</span> &lt;target&gt;
</pre></div>


<p>This will only override the container version used for trimmomatic, and will
use the defaults for all other container images.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../running_workflows/" title="Running Workflows" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Running Workflows
              </span>
            </div>
          </a>
        
        
          <a href="../quickstart/" title="Quick Start" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Quick Start
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2018, The Regents of the University of California.<br /> Written and maintained by the <a href="http://ivory.idyll.org/lab/">Lab for Data Intensive Biology</a> at UC Davis.<br /> Released under the <a href="https://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.<br /><br />
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.0cf9b500.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
        <script src="../search/require.js"></script>
      
        <script src="../search/search.js"></script>
      
    
    
      
    
  </body>
</html>